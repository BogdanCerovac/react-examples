/** @license React vundefined
 * react-events-tap.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';var l=require("react"),p=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,t=function(){try{if(!Object.assign)return!1;var b=new String("abc");b[5]="de";if("5"===Object.getOwnPropertyNames(b)[0])return!1;var d={};for(b=0;10>b;b++)d["_"+String.fromCharCode(b)]=b;if("0123456789"!==Object.getOwnPropertyNames(d).map(function(a){return d[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return"abcdefghijklmnopqrst"!==
Object.keys(Object.assign({},c)).join("")?!1:!0}catch(a){return!1}}()?Object.assign:function(b,d){if(null===b||void 0===b)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(b);for(var a,e=1;e<arguments.length;e++){var f=Object(arguments[e]);for(var h in f)q.call(f,h)&&(c[h]=f[h]);if(p){a=p(f);for(var g=0;g<a.length;g++)r.call(f,a[g])&&(c[a[g]]=f[a[g]])}}return c},v="undefined"!==typeof window&&void 0!==window.PointerEvent,w="undefined"!==typeof window&&null!=
window.navigator?/^Mac/.test(window.navigator.platform):!1,x={none:0,primary:1,secondary:2,middle:4},y=v?"click_active contextmenu pointerup pointermove pointercancel scroll".split(" "):"click_active contextmenu mouseup mousemove dragstart touchend touchmove touchcancel scroll".split(" ");
function z(b,d,c,a){b=b.getTimeStamp();a=a.nativeEvent;return{altKey:a.altKey,buttons:c.buttons,ctrlKey:a.ctrlKey,height:a.height,metaKey:a.metaKey,pageX:a.pageX,pageY:a.pageY,pointerType:a.pointerType,pressure:a.pressure,screenX:a.screenX,screenY:a.screenY,shiftKey:a.shiftKey,tangentialPressure:a.tangentialPressure,target:c.responderTarget,tiltX:a.tiltX,tiltY:a.tiltY,timeStamp:b,twist:a.twist,width:a.width,x:a.clientX,y:a.clientY}}
function A(b,d,c,a){b=b.getTimeStamp();var e=a.nativeEvent,f=a.type;d=e.altKey;var h=e.ctrlKey,g=e.metaKey,n=e.shiftKey,m="dragstart"===f||"touchcancel"===f;f="mouseup"===f||"touchend"===f;var B="touch"===a.pointerType,u=e;!v&&B&&(e=F(e,c.activePointerId),null!=e&&(u=e));var k=u;e=k.pageX;u=k.pageY;var C=k.radiusX,D=k.radiusY,E=k.rotationAngle,M=k.screenX,N=k.screenY,O=k.clientX;k=k.clientY;return{altKey:d,buttons:null!=c.buttons?c.buttons:1,ctrlKey:h,height:m||null==D?1:2*D,metaKey:g,pageX:m?0:e,
pageY:m?0:u,pointerType:a.pointerType,pressure:f||m?0:B?1:.5,screenX:m?0:M,screenY:m?0:N,shiftKey:n,tangentialPressure:0,target:c.responderTarget,tiltX:0,tiltY:0,timeStamp:b,twist:null!=E?E:0,width:m||null==C?1:2*C,x:m?0:O,y:m?0:k}}var G=v?z:A;function H(b,d){null!=d.rootEvents&&(b.removeRootEventTypes(d.rootEvents),d.rootEvents=null)}function F(b,d){if(null!=d){b=b.changedTouches;for(var c=0;c<b.length;c++){var a=b[c];if(a.identifier===d)return a}}return null}
function I(b,d){var c=b.nativeEvent,a=d.activePointerId;return v?(c=c.pointerId,null!=a&&null!=c?d.pointerType===b.pointerType&&a===c:!0):"touch"===b.pointerType?null!=F(c,a):!0}function J(b,d,c){d=d.onTapChange;null!=d&&b.dispatchEvent(c.isActive,d,0)}function K(b,d,c){d=d.onTapCancel;null!=d&&(c=t({},c.gestureState,{type:"tap:cancel"}),b.dispatchEvent(c,d,0))}
var L=l.unstable_createResponder("Tap",{targetEventTypes:v?["pointerdown"]:["mousedown","touchstart"],getInitialState:function(){return{activePointerId:null,buttons:0,ignoreEmulatedEvents:!1,isActive:!1,pointerType:"",responderTarget:null,rootEvents:null,shouldPreventClick:!0,gestureState:{altKey:!1,buttons:0,ctrlKey:!1,height:1,metaKey:!1,pageX:0,pageY:0,pointerType:"",pressure:0,screenX:0,screenY:0,shiftKey:!1,tangentialPressure:0,target:null,tiltX:0,tiltY:0,timeStamp:0,twist:0,width:1,x:0,y:0}}},
onEvent:function(b,d,c,a){if(c.disabled)H(d,a),a.isActive&&(K(d,c,a),a.isActive=!1);else{var e=b.nativeEvent,f=e.target,h=b.type;switch(h){case "pointerdown":case "mousedown":case "touchstart":if(v){var g=e.pointerId;a.activePointerId=g;f.releasePointerCapture(g)}else if("touchstart"===h&&(f=e.targetTouches,0<f.length&&(a.activePointerId=f[0].identifier)),"mousedown"===h&&a.ignoreEmulatedEvents)break;if(f=!a.isActive){var n=b.nativeEvent;f=b.pointerType;g=n.buttons;n="mouse"===f&&n.ctrlKey&&w;g=g===
x.primary||g===x.middle;f="touch"===f||g&&!n?!0:!1}f&&(a.isActive=!0,a.buttons=e.buttons,a.pointerType=b.pointerType,a.responderTarget=d.getResponderNode(),a.shouldPreventClick=!1!==c.preventDefault,a.gestureState=G(d,c,a,b),b=c.onTapStart,null!=b&&(e=t({},a.gestureState,{type:"tap:start"}),d.dispatchEvent(e,b,0)),J(d,c,a),a.rootEvents||(a.rootEvents=y,d.addRootEventTypes(a.rootEvents)),v||"touchstart"!==h||(a.ignoreEmulatedEvents=!0))}}},onRootEvent:function(b,d,c,a){var e=b.nativeEvent,f=b.type;
if(v||"touch"!==b.pointerType)var h=b.target;else{h=d.getActiveDocument();var g=F(b.nativeEvent,a.activePointerId);h=null!=g?h.elementFromPoint(g.clientX,g.clientY):null}switch(f){case "pointermove":case "mousemove":case "touchmove":if(!v&&"mousemove"===f&&a.ignoreEmulatedEvents)break;a.isActive&&I(b,a)&&(a.gestureState=G(d,c,a,b),d.isTargetWithinResponder(h)?(c=c.onTapUpdate,null!=c&&(a=t({},a.gestureState,{type:"tap:update"}),d.dispatchEvent(a,c,1))):(a.isActive=!1,J(d,c,a),K(d,c,a)));break;case "pointerup":case "mouseup":case "touchend":if(a.isActive&&
I(b,a)){a.buttons===x.middle&&H(d,a);a.gestureState=G(d,c,a,b);if(d.isTargetWithinResponder(h)){b=b.nativeEvent;e=b.ctrlKey;h=b.metaKey;g=b.shiftKey;if(!0===b.altKey||!0===e||!0===h||!0===g)a.shouldPreventClick=!1;b=c.onTapEnd;null!=b&&(e=t({},a.gestureState,{type:"tap:end"}),d.dispatchEvent(e,b,0))}else K(d,c,a);a.isActive=!1;J(d,c,a)}v||"mouseup"!==f||(a.ignoreEmulatedEvents=!1);break;case "contextmenu":case "pointercancel":case "touchcancel":case "dragstart":a.isActive&&I(b,a)&&(a.gestureState=
G(d,c,a,b),K(d,c,a),a.isActive=!1,J(d,c,a));break;case "scroll":a.isActive&&null!=a.responderTarget&&"mouse"!==a.pointerType&&d.isTargetWithinNode(a.responderTarget,e.target)&&(a.gestureState=G(d,c,a,b),K(d,c,a),a.isActive=!1,J(d,c,a));break;case "click":a.shouldPreventClick&&e.preventDefault(),H(d,a)}},onUnmount:function(b,d,c){H(b,c);c.isActive&&(K(b,d,c),c.isActive=!1)}});module.exports={TapResponder:L,useTap:function(b){return l.unstable_useResponder(L,b)}};
