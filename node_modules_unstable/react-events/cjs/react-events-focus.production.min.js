/** @license React vundefined
 * react-events-focus.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';var g=require("react"),h="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,k=["keydown","keyup","pointermove","pointerdown","pointerup"];"undefined"!==typeof window&&void 0===window.PointerEvent&&k.push("mousemove","mousedown","mouseup","touchmove","touchstart","touchend");function l(a,c,d,b){return{target:d,type:c,pointerType:b,timeStamp:a.getTimeStamp()}}
function m(a,c,d){var b=d.pointerType,e=d.focusTarget;if(c.onFocus){var f=l(a,"focus",e,b);a.dispatchEvent(f,c.onFocus,0)}c.onFocusChange&&(f=l(a,"focuschange",e,b),a.dispatchEvent(f,function(){c.onFocusChange(!0)},0));c.onFocusVisibleChange&&d.isLocalFocusVisible&&(d=l(a,"focusvisiblechange",e,b),a.dispatchEvent(d,function(){c.onFocusVisibleChange(!0)},0))}
function n(a,c,d){var b=d.pointerType,e=d.focusTarget;if(c.onBlur){var f=l(a,"blur",e,b);a.dispatchEvent(f,c.onBlur,0)}c.onFocusChange&&(b=l(a,"focuschange",e,b),a.dispatchEvent(b,function(){c.onFocusChange(!1)},0));p(a,c,d)}function p(a,c,d){var b=d.pointerType,e=d.focusTarget;c.onFocusVisibleChange&&d.isLocalFocusVisible&&(b=l(a,"focusvisiblechange",e,b),a.dispatchEvent(b,function(){c.onFocusVisibleChange(!1)},0),d.isLocalFocusVisible=!1)}
function q(a,c,d,b){var e=a.type,f=a.target;if("mousemove"!==e||"HTML"!==f.nodeName)r=!1,b.focusTarget!==c.getEventCurrentTarget(a)||"mousedown"!==e&&"touchstart"!==e&&"pointerdown"!==e||p(c,d,b)}
var r=!0,t=g.unstable_createEvent({displayName:"Focus",targetEventTypes:[{name:"focus",passive:!0},{name:"blur",passive:!0}],rootEventTypes:k,createInitialState:function(){return{focusTarget:null,isFocused:!1,isLocalFocusVisible:!1,pointerType:""}},allowMultipleHostChildren:!1,allowEventHooks:!0,onEvent:function(a,c,d,b){var e=a.type,f=a.target;if(d.disabled)b.isFocused&&(n(c,d,b),b.isFocused=!1,b.focusTarget=null);else switch(e){case "focus":b.isFocused||(b.focusTarget=c.getEventCurrentTarget(a),
b.focusTarget===f&&(b.isFocused=!0,b.isLocalFocusVisible=r,m(c,d,b)));break;case "blur":b.isFocused&&(n(c,d,b),b.isFocused=!1,b.focusTarget=null)}},onRootEvent:function(a,c,d,b){switch(a.type){case "mousemove":case "mousedown":case "mouseup":b.pointerType="mouse";q(a,c,d,b);break;case "pointermove":case "pointerdown":case "pointerup":b.pointerType=a.nativeEvent.pointerType;q(a,c,d,b);break;case "touchmove":case "touchstart":case "touchend":b.pointerType="touch";q(a,c,d,b);break;case "keydown":case "keyup":a=
a.nativeEvent,"Tab"!==a.key||a.metaKey||!h&&a.altKey||a.ctrlKey||(b.pointerType="keyboard",r=!0)}},onUnmount:function(a,c,d){d.isFocused&&n(a,c,d)},onOwnershipChange:function(a,c,d){d.isFocused&&n(a,c,d)}});module.exports={Focus:t,useFocus:function(a){g.unstable_useEvent(t,a)}};
