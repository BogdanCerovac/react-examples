/** @license React vundefined
 * react-events-press.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';var p=require("react"),q=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;q.hasOwnProperty("ReactCurrentDispatcher")||(q.ReactCurrentDispatcher={current:null});q.hasOwnProperty("ReactCurrentBatchConfig")||(q.ReactCurrentBatchConfig={suspense:null});
var r="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,u={bottom:20,top:20,left:20,right:20},w=[{name:"keydown",passive:!1},{name:"contextmenu",passive:!1},{name:"pointerdown",passive:!1},{name:"click",passive:!1}],x=["click","keyup","pointerup","pointermove","scroll","pointercancel",{name:"mouseup",passive:!1},"touchend"];
"undefined"!==typeof window&&void 0===window.PointerEvent&&(w.push("touchstart","mousedown"),x.push("mousemove","touchmove","touchcancel","dragstart"));
function y(b,d,c,a,e,g){var k=c.pressTarget,h=c.pointerType,f=c.touchEvent;c=null!=b&&!0===b.nativeEvent.defaultPrevented||"press"===a&&c.shouldPreventClick;var n=d.getTimeStamp(),m=null,l=null,v=null,t=null,C=null,D=null,E=!1,F=!1,G=!1,H=!1;b&&(b=b.nativeEvent,E=b.altKey,F=b.ctrlKey,G=b.metaKey,H=b.shiftKey,f=f||b)&&(m=f.clientX,l=f.clientY,v=f.pageX,t=f.pageY,C=f.screenX,D=f.screenY);d.dispatchEvent({defaultPrevented:c,target:k,type:a,pointerType:h,timeStamp:n,clientX:m,clientY:l,pageX:v,pageY:t,
screenX:C,screenY:D,x:m,y:l,altKey:E,ctrlKey:F,metaKey:G,shiftKey:H},e,g)}function z(b,d,c,a){var e=a.isActivePressed;y(b,d,a,"presschange",function(){c.onPressChange(e)},0)}function A(b,d,c,a){var e=a.isLongPressed;y(b,d,a,"longpresschange",function(){c.onLongPressChange(e)},0)}
function B(b,d,c,a){var e=b.nativeEvent,g=a.touchEvent||e;e=g.clientX;g=g.clientY;var k=a.isActivePressed;a.isActivePressed=!0;void 0!==e&&void 0!==g&&(a.activationPosition={x:e,y:g});c.onPressStart&&y(b,d,a,"pressstart",c.onPressStart,0);!k&&c.onPressChange&&z(b,d,c,a)}function I(b,d,c,a){var e=a.isLongPressed;a.isActivePressed=!1;a.isLongPressed=!1;c.onPressEnd&&y(b,d,a,"pressend",c.onPressEnd,0);c.onPressChange&&z(b,d,c,a);e&&c.onLongPressChange&&A(b,d,c,a)}
function J(b,d,c,a){function e(){a.isActivePressStart=!0;B(b,d,c,a);if((c.onLongPress||c.onLongPressChange)&&!a.isLongPressed){var e=K(c.delayLongPress,10,500);a.longPressTimeout=d.setTimeout(function(){a.isLongPressed=!0;a.longPressTimeout=null;c.onLongPress&&y(b,d,a,"longpress",c.onLongPress,0);c.onLongPressChange&&A(b,d,c,a)},e)}}a.isPressed=!0;null!==a.pressEndTimeout&&(d.clearTimeout(a.pressEndTimeout),a.pressEndTimeout=null);if(!a.isActivePressStart){var g=K(c.delayPressStart,0,0);0<g?a.pressStartTimeout=
d.setTimeout(function(){a.pressStartTimeout=null;e()},g):e()}}
function L(b,d,c,a){var e=a.isActivePressStart,g=!1;a.isActivePressStart=!1;a.isPressed=!1;null!==a.longPressTimeout&&(d.clearTimeout(a.longPressTimeout),a.longPressTimeout=null);e||null===a.pressStartTimeout||(d.clearTimeout(a.pressStartTimeout),a.pressStartTimeout=null,a.isPressWithinResponderRegion&&null!=b&&(B(b,d,c,a),g=!0));a.isActivePressed&&(e=K(c.delayPressEnd,g?10:0,0),0<e?a.pressEndTimeout=d.setTimeout(function(){a.pressEndTimeout=null;I(b,d,c,a)},e):I(b,d,c,a));a.responderRegionOnDeactivation=
null}function M(b,d,c,a){a.touchEvent=null;a.isPressed&&(a.ignoreEmulatedMouseEvents=!1,L(b,d,c,a));N(d,a)}function O(b){var d=b.key,c=b.target;b=c.tagName;c=c.isContentEditable;return("Enter"===d||" "===d||"Spacebar"===d)&&"INPUT"!==b&&"TEXTAREA"!==b&&!0!==c}function K(b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=null==b?null:b;return Math.max(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,null!=c?c:d)}
function P(b,d,c){b=b.objectAssign({},u,c.pressRetentionOffset);var a=d.getBoundingClientRect();d=a.left;c=a.right;var e=a.bottom;a=a.top;b&&(null!=b.bottom&&(e+=b.bottom),null!=b.left&&(d-=b.left),null!=b.right&&(c+=b.right),null!=b.top&&(a-=b.top));return{bottom:e,top:a,left:d,right:c}}function N(b,d){d.addedRootEvents&&(d.addedRootEvents=!1,b.removeRootEventTypes(x))}function Q(b,d){b=b.changedTouches;for(var c=0;c<b.length;c++){var a=b[c];if(a.identifier===d)return a}return null}
function R(b,d,c,a){null==a.responderRegionOnDeactivation&&(a.responderRegionOnDeactivation=P(d,a.pressTarget,c));var e=a.responderRegionOnActivation,g=a.responderRegionOnDeactivation,k=c=d=void 0,h=void 0;null!=e&&(d=e.left,c=e.top,k=e.right,h=e.bottom,null!=g&&(d=Math.min(d,g.left),c=Math.min(c,g.top),k=Math.max(k,g.right),h=Math.max(h,g.bottom)));e=b.clientX;b=b.clientY;a.isPressWithinResponderRegion=null!=d&&null!=k&&null!=c&&null!=h&&null!==e&&null!==b&&e>=d&&e<=k&&b>=c&&b<=h}
function S(b,d,c){b=b.stopPropagation;void 0!==b&&d.isRespondingToHook()||!0===b&&c.stopPropagation()}
var T=p.unstable_createEvent({displayName:"Press",targetEventTypes:w,createInitialState:function(){return{activationPosition:null,addedRootEvents:!1,isActivePressed:!1,isActivePressStart:!1,isLongPressed:!1,isPressed:!1,isPressWithinResponderRegion:!0,longPressTimeout:null,pointerType:"",pressEndTimeout:null,pressStartTimeout:null,pressTarget:null,responderRegionOnActivation:null,responderRegionOnDeactivation:null,ignoreEmulatedMouseEvents:!1,activePointerId:null,shouldPreventClick:!1,touchEvent:null}},
allowMultipleHostChildren:!1,allowEventHooks:!0,onEvent:function(b,d,c,a){var e=b.pointerId,g=b.pointerType,k=b.type;if(c.disabled)N(d,a),L(b,d,c,a),a.ignoreEmulatedMouseEvents=!1;else{var h=b.nativeEvent,f=a.isPressed;S(c,d,h);switch(k){case "pointerdown":case "keydown":case "mousedown":case "touchstart":if(f)O(h)&&" "===h.key&&h.preventDefault();else{var n="touchstart"===k,m="pointerdown"===k,l="keyboard"===g;f="mouse"===g;if(m||n)a.ignoreEmulatedMouseEvents=!0;else if("mousedown"===k&&a.ignoreEmulatedMouseEvents)break;
else if(l&&!O(h))break;a.pointerType=g;a.pressTarget=d.getEventCurrentTarget(b);if(m)a.activePointerId=e;else if(n){e=h.targetTouches;e=0<e.length?e[0]:null;if(null===e)break;a.touchEvent=e;a.activePointerId=e.identifier}0<h.button||r&&f&&h.ctrlKey||(a.responderRegionOnActivation=P(d,a.pressTarget,c),a.responderRegionOnDeactivation=null,a.isPressWithinResponderRegion=!0,J(b,d,c,a),a.addedRootEvents||(a.addedRootEvents=!0,d.addRootEventTypes(x)))}break;case "contextmenu":e=c.preventContextMenu;void 0!==
e&&d.isRespondingToHook()||!0===e&&h.preventDefault();if(f){f=c.preventDefault;if(!(void 0!==f&&d.isRespondingToHook()||!1===f||h.defaultPrevented)){h.preventDefault();break}M(b,d,c,a)}c.onContextMenu&&y(b,d,a,"contextmenu",c.onContextMenu,0);N(d,a);break;case "click":a.shouldPreventClick&&h.preventDefault()}}},onRootEvent:function(b,d,c,a){var e=b.pointerId,g=b.pointerType,k=b.target,h=b.type,f=b.nativeEvent,n=a.isPressed,m=a.activePointerId;S(c,d,f);switch(h){case "pointermove":case "mousemove":case "touchmove":var l=
void 0;if(a.pointerType!==g)break;if("pointermove"===h&&m!==e)break;else if("touchmove"===h){l=Q(f,m);if(null===l)break;a.touchEvent=l}null===a.pressTarget||"mouse"===g&&d.isTargetWithinNode(k,a.pressTarget)||R(l||f,d,c,a);a.isPressWithinResponderRegion?n?(c.onPressMove&&y(b,d,a,"pressmove",c.onPressMove,1),null!=a.activationPosition&&null!=a.longPressTimeout&&10<Math.hypot(a.activationPosition.x-f.clientX,a.activationPosition.y-f.clientY)&&null!=a.longPressTimeout&&d.clearTimeout(a.longPressTimeout)):
J(b,d,c,a):L(b,d,c,a);break;case "pointerup":case "keyup":case "mouseup":case "touchend":if(n){if(n=!1,l=void 0,"pointerup"!==h||m===e){if("touchend"===h){l=Q(f,m);if(null===l)break;k=a.touchEvent=l;k=d.getActiveDocument().elementFromPoint(k.clientX,k.clientY)}else if("keyup"===h){if(!O(f))break;n=!0;N(d,a)}a.shouldPreventClick=!1;if(d.isTargetWithinEventComponent(k)&&d.isTargetWithinHostComponent(k,"a",!0)){e=f.altKey;h=f.ctrlKey;m=f.metaKey;var v=f.shiftKey,t=c.preventDefault;void 0!==t&&d.isRespondingToHook()||
!1===t||v||m||h||e||(a.shouldPreventClick=!0)}e=a.isLongPressed;L(b,d,c,a);null!==a.pressTarget&&c.onPress&&(n||null===a.pressTarget||"mouse"===g&&d.isTargetWithinNode(k,a.pressTarget)||R(l||f,d,c,a),a.isPressWithinResponderRegion&&(e&&c.onLongPressShouldCancelPress&&c.onLongPressShouldCancelPress()||y(b,d,a,"press",c.onPress,0)));a.touchEvent=null}}else"mouseup"===h&&(a.ignoreEmulatedMouseEvents=!1);break;case "click":"keyboard"!==a.pointerType&&N(d,a);break;case "scroll":g=a.pressTarget;f=f.target;
k=d.getActiveDocument();null===g||f!==k&&!d.isTargetWithinNode(g,f)||M(b,d,c,a);break;case "pointercancel":case "touchcancel":case "dragstart":M(b,d,c,a)}},onUnmount:function(b,d,c){c.isPressed&&(N(b,c),L(null,b,d,c))},onOwnershipChange:function(b,d,c){c.isPressed&&(N(b,c),L(null,b,d,c))}});module.exports={Press:T,usePress:function(b){p.unstable_useEvent(T,b)}};
