/** @license React vundefined
 * react-events-swipe.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';var h=require("react"),k=["pointerdown"],l=["pointerup","pointercancel","pointermove_active"];"undefined"!==typeof window&&void 0===window.PointerEvent&&(k.push("touchstart","mousedown"),l.push("mouseup","mousemove","touchend","touchcancel","touchmove_active"));function m(b){return"function"===typeof b}function n(b,f,c,a,e,d){c=b.objectAssign({target:a.swipeTarget,type:c,timeStamp:b.getTimeStamp()},d);b.dispatchEvent(c,f,e)}
var p=h.unstable_createResponder("Swipe",{targetEventTypes:k,getInitialState:function(){return{direction:0,isSwiping:!1,lastDirection:0,startX:0,startY:0,touchId:null,swipeTarget:null,x:0,y:0,ownershipClaimed:!1}},onEvent:function(b,f,c,a){var e=b.target,d=b.type,g=b.nativeEvent;switch(d){case "touchstart":case "mousedown":case "pointerdown":a.isSwiping||(b=g,"touchstart"===d&&(b=g.targetTouches[0],a.touchId=b.identifier),d=b.screenX,b=b.screenY,g=!0,c.shouldClaimOwnership&&c.shouldClaimOwnership()&&
(g=f.requestGlobalOwnership())&&(a.ownershipClaimed=!0),g?(a.isSwiping=!0,a.startX=d,a.startY=b,a.x=d,a.y=b,a.swipeTarget=e,f.addRootEventTypes(l)):a.touchId=null)}},onRootEvent:function(b,f,c,a){var e=b.type,d=b.nativeEvent;switch(e){case "touchmove":case "mousemove":case "pointermove":if(b.passive)break;if(a.isSwiping){b=null;if("touchmove"===e){e=d.targetTouches;for(var g=0;g<e.length;g++)if(a.touchId===e[g].identifier){b=e[g];break}}else b=d;null===b?(a.isSwiping=!1,a.swipeTarget=null,a.touchId=
null,f.removeRootEventTypes(l)):(e=b.screenX,b=b.screenY,e<a.x?a.direction=3:e>a.x&&(a.direction=1),a.x=e,a.y=b,b={diffX:e-a.startX,diffY:b-a.startY},c=c.onSwipeMove,m(c)&&n(f,c,"swipemove",a,1,b),d.preventDefault())}break;case "pointercancel":case "touchcancel":case "touchend":case "mouseup":case "pointerup":!a.isSwiping||a.x===a.startX&&a.y===a.startY||(a.ownershipClaimed&&f.releaseOwnership(),d=a.direction,d!==a.lastDirection&&(3===d?(b=c.onSwipeLeft,m(b)&&n(f,b,"swipeleft",a,0)):1===d&&(b=c.onSwipeRight,
m(b)&&n(f,b,"swiperight",a,0))),c=c.onSwipeEnd,m(c)&&n(f,c,"swipeend",a,0),a.lastDirection=d,a.isSwiping=!1,a.swipeTarget=null,a.touchId=null,f.removeRootEventTypes(l))}}});module.exports={SwipeResponder:p,useSwipeListener:function(b){return h.unstable_useListener(p,b)}};
