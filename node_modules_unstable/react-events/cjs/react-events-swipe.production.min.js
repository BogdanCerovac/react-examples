/** @license React vundefined
 * react-events-swipe.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';var h=require("react"),k=["pointerdown"],l=["pointerup","pointercancel",{name:"pointermove",passive:!1}];"undefined"!==typeof window&&void 0===window.PointerEvent&&(k.push("touchstart","mousedown"),l.push("mouseup","mousemove","touchend","touchcancel",{name:"touchmove",passive:!1}));function m(b,f,c,a,e,d){f=b.objectAssign({target:a.swipeTarget,type:f,timeStamp:b.getTimeStamp()},d);b.dispatchEvent(f,c,e)}
var n=h.unstable_createEvent({displayName:"Scroll",targetEventTypes:k,createInitialState:function(){return{direction:0,isSwiping:!1,lastDirection:0,startX:0,startY:0,touchId:null,swipeTarget:null,x:0,y:0}},allowMultipleHostChildren:!1,allowEventHooks:!1,onEvent:function(b,f,c,a){var e=b.target,d=b.type,g=b.nativeEvent;switch(d){case "touchstart":case "mousedown":case "pointerdown":a.isSwiping||(b=g,"touchstart"===d&&(b=g.targetTouches[0],a.touchId=b.identifier),d=b.screenX,b=b.screenY,g=!0,c.onShouldClaimOwnership&&
c.onShouldClaimOwnership()&&(g=f.requestGlobalOwnership()),g?(a.isSwiping=!0,a.startX=d,a.startY=b,a.x=d,a.y=b,a.swipeTarget=e,f.addRootEventTypes(l)):a.touchId=null)}},onRootEvent:function(b,f,c,a){var e=b.type,d=b.nativeEvent;switch(e){case "touchmove":case "mousemove":case "pointermove":if(b.passive)break;if(a.isSwiping){b=null;if("touchmove"===e){e=d.targetTouches;for(var g=0;g<e.length;g++)if(a.touchId===e[g].identifier){b=e[g];break}}else b=d;null===b?(a.isSwiping=!1,a.swipeTarget=null,a.touchId=
null,f.removeRootEventTypes(l)):(e=b.screenX,b=b.screenY,e<a.x&&c.onSwipeLeft?a.direction=3:e>a.x&&c.onSwipeRight&&(a.direction=1),a.x=e,a.y=b,c.onSwipeMove&&(m(f,"swipemove",c.onSwipeMove,a,1,{diffX:e-a.startX,diffY:b-a.startY}),d.preventDefault()))}break;case "pointercancel":case "touchcancel":case "touchend":case "mouseup":case "pointerup":!a.isSwiping||a.x===a.startX&&a.y===a.startY||(c.onShouldClaimOwnership&&f.releaseOwnership(),d=a.direction,d!==a.lastDirection&&(c.onSwipeLeft&&3===d?m(f,"swipeleft",
c.onSwipeLeft,a,0):c.onSwipeRight&&1===d&&m(f,"swiperight",c.onSwipeRight,a,0)),c.onSwipeEnd&&m(f,"swipeend",c.onSwipeEnd,a,0),a.lastDirection=d,a.isSwiping=!1,a.swipeTarget=null,a.touchId=null,f.removeRootEventTypes(l))}}});module.exports={Swipe:n,useSwipe:function(b){h.unstable_useEvent(n,b)}};
