/** @license React vundefined
 * react-events-tap.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(p,f){"object"===typeof exports&&"undefined"!==typeof module?module.exports=f(require("react")):"function"===typeof define&&define.amd?define(["react"],f):p.ReactEventsTap=f(p.React)})(this,function(p){function f(b,c,d,a){b=b.getTimeStamp();a=a.nativeEvent;return{altKey:a.altKey,buttons:d.buttons,ctrlKey:a.ctrlKey,height:a.height,metaKey:a.metaKey,pageX:a.pageX,pageY:a.pageY,pointerType:a.pointerType,pressure:a.pressure,screenX:a.screenX,screenY:a.screenY,shiftKey:a.shiftKey,
tangentialPressure:a.tangentialPressure,target:d.responderTarget,tiltX:a.tiltX,tiltY:a.tiltY,timeStamp:b,twist:a.twist,width:a.width,x:a.clientX,y:a.clientY}}function z(b,c,d,a){b=b.getTimeStamp();var e=a.nativeEvent,g=a.type;c=e.altKey;var u=e.ctrlKey,h=e.metaKey,p=e.shiftKey,m="dragstart"===g||"touchcancel"===g;g="mouseup"===g||"touchend"===g;var n="touch"===a.pointerType,f=e;!l&&n&&(e=y(e,d.activePointerId),null!=e&&(f=e));var k=f;e=k.pageX;f=k.pageY;var q=k.radiusX,r=k.radiusY,t=k.rotationAngle,
v=k.screenX,w=k.screenY,x=k.clientX;k=k.clientY;return{altKey:c,buttons:null!=d.buttons?d.buttons:1,ctrlKey:u,height:m||null==r?1:2*r,metaKey:h,pageX:m?0:e,pageY:m?0:f,pointerType:a.pointerType,pressure:g||m?0:n?1:.5,screenX:m?0:v,screenY:m?0:w,shiftKey:p,tangentialPressure:0,target:d.responderTarget,tiltX:0,tiltY:0,timeStamp:b,twist:null!=t?t:0,width:m||null==q?1:2*q,x:m?0:x,y:m?0:k}}function t(b,c){null!=c.rootEvents&&(b.removeRootEventTypes(c.rootEvents),c.rootEvents=null)}function y(b,c){if(null!=
c){b=b.changedTouches;for(var d=0;d<b.length;d++){var a=b[d];if(a.identifier===c)return a}}return null}function w(b,c){var d=b.nativeEvent,a=c.activePointerId;return l?(d=d.pointerId,null!=a&&null!=d?c.pointerType===b.pointerType&&a===d:!0):"touch"===b.pointerType?null!=y(d,a):!0}function q(b,c,d){c=c.onTapChange;null!=c&&b.dispatchEvent(d.isActive,c,0)}function n(b,c,d){c=c.onTapCancel;null!=c&&(d=v({},d.gestureState,{type:"tap:cancel"}),b.dispatchEvent(d,c,0))}var v=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,
l="undefined"!==typeof window&&void 0!==window.PointerEvent,A="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,B=l?"click_active contextmenu pointerup pointermove pointercancel scroll".split(" "):"click_active contextmenu mouseup mousemove dragstart touchend touchmove touchcancel scroll".split(" "),r=l?f:z,x=p.unstable_createResponder("Tap",{targetEventTypes:l?["pointerdown"]:["mousedown","touchstart"],getInitialState:function(){return{activePointerId:null,
buttons:0,ignoreEmulatedEvents:!1,isActive:!1,pointerType:"",responderTarget:null,rootEvents:null,shouldPreventClick:!0,gestureState:{altKey:!1,buttons:0,ctrlKey:!1,height:1,metaKey:!1,pageX:0,pageY:0,pointerType:"",pressure:0,screenX:0,screenY:0,shiftKey:!1,tangentialPressure:0,target:null,tiltX:0,tiltY:0,timeStamp:0,twist:0,width:1,x:0,y:0}}},onEvent:function(b,c,d,a){if(d.disabled)t(c,a),a.isActive&&(n(c,d,a),a.isActive=!1);else{var e=b.nativeEvent,g=e.target,u=b.type;switch(u){case "pointerdown":case "mousedown":case "touchstart":if(l){var h=
e.pointerId;a.activePointerId=h;g.releasePointerCapture(h)}else if("touchstart"===u&&(g=e.targetTouches,0<g.length&&(a.activePointerId=g[0].identifier)),"mousedown"===u&&a.ignoreEmulatedEvents)break;if(g=!a.isActive){var f=b.nativeEvent;g=b.pointerType;h=f.buttons;f="mouse"===g&&f.ctrlKey&&A;g="touch"!==g&&(1!==h&&4!==h||f)?!1:!0}g&&(a.isActive=!0,a.buttons=e.buttons,a.pointerType=b.pointerType,a.responderTarget=c.getResponderNode(),a.shouldPreventClick=!1!==d.preventDefault,a.gestureState=r(c,d,
a,b),b=d.onTapStart,null!=b&&(e=v({},a.gestureState,{type:"tap:start"}),c.dispatchEvent(e,b,0)),q(c,d,a),a.rootEvents||(a.rootEvents=B,c.addRootEventTypes(a.rootEvents)),l||"touchstart"!==u||(a.ignoreEmulatedEvents=!0))}}},onRootEvent:function(b,c,d,a){var e=b.nativeEvent,g=b.type;if(l||"touch"!==b.pointerType)var f=b.target;else{f=c.getActiveDocument();var h=y(b.nativeEvent,a.activePointerId);f=null!=h?f.elementFromPoint(h.clientX,h.clientY):null}switch(g){case "pointermove":case "mousemove":case "touchmove":if(!l&&
"mousemove"===g&&a.ignoreEmulatedEvents)break;a.isActive&&w(b,a)&&(a.gestureState=r(c,d,a,b),c.isTargetWithinResponder(f)?(d=d.onTapUpdate,null!=d&&(a=v({},a.gestureState,{type:"tap:update"}),c.dispatchEvent(a,d,1))):(a.isActive=!1,q(c,d,a),n(c,d,a)));break;case "pointerup":case "mouseup":case "touchend":if(a.isActive&&w(b,a)){4===a.buttons&&t(c,a);a.gestureState=r(c,d,a,b);if(c.isTargetWithinResponder(f)){b=b.nativeEvent;e=b.ctrlKey;f=b.metaKey;h=b.shiftKey;if(!0===b.altKey||!0===e||!0===f||!0===
h)a.shouldPreventClick=!1;b=d.onTapEnd;null!=b&&(e=v({},a.gestureState,{type:"tap:end"}),c.dispatchEvent(e,b,0))}else n(c,d,a);a.isActive=!1;q(c,d,a)}l||"mouseup"!==g||(a.ignoreEmulatedEvents=!1);break;case "contextmenu":case "pointercancel":case "touchcancel":case "dragstart":a.isActive&&w(b,a)&&(a.gestureState=r(c,d,a,b),n(c,d,a),a.isActive=!1,q(c,d,a));break;case "scroll":a.isActive&&null!=a.responderTarget&&"mouse"!==a.pointerType&&c.isTargetWithinNode(a.responderTarget,e.target)&&(a.gestureState=
r(c,d,a,b),n(c,d,a),a.isActive=!1,q(c,d,a));break;case "click":a.shouldPreventClick&&e.preventDefault(),t(c,a)}},onUnmount:function(b,c,d){t(b,d);d.isActive&&(n(b,c,d),d.isActive=!1)}});return{TapResponder:x,useTap:function(b){return p.unstable_useResponder(x,b)}}});
