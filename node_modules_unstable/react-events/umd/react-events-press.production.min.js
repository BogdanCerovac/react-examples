/** @license React vundefined
 * react-events-press.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(q,n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n(require("react")):"function"===typeof define&&define.amd?define(["react"],n):q.ReactEventsPress=n(q.React)})(this,function(q){function n(b,d,c,a,e,g){var k=c.pressTarget,h=c.pointerType,f=c.touchEvent;c=null!=b&&!0===b.nativeEvent.defaultPrevented||"press"===a&&c.shouldPreventClick;var n=d.getTimeStamp(),p=null,m=null,r=null,l=null,q=null,u=null,t=!1,v=!1,w=!1,x=!1;b&&(b=b.nativeEvent,t=b.altKey,v=
b.ctrlKey,w=b.metaKey,x=b.shiftKey,f=f||b)&&(p=f.clientX,m=f.clientY,r=f.pageX,l=f.pageY,q=f.screenX,u=f.screenY);d.dispatchEvent({defaultPrevented:c,target:k,type:a,pointerType:h,timeStamp:n,clientX:p,clientY:m,pageX:r,pageY:l,screenX:q,screenY:u,x:p,y:m,altKey:t,ctrlKey:v,metaKey:w,shiftKey:x},e,g)}function y(b,d,c,a){var e=a.isActivePressed;n(b,d,a,"presschange",function(){c.onPressChange(e)},0)}function z(b,d,c,a){var e=a.isLongPressed;n(b,d,a,"longpresschange",function(){c.onLongPressChange(e)},
0)}function A(b,d,c,a){var e=b.nativeEvent,g=a.touchEvent||e;e=g.clientX;g=g.clientY;var k=a.isActivePressed;a.isActivePressed=!0;void 0!==e&&void 0!==g&&(a.activationPosition={x:e,y:g});c.onPressStart&&n(b,d,a,"pressstart",c.onPressStart,0);!k&&c.onPressChange&&y(b,d,c,a)}function B(b,d,c,a){var e=a.isLongPressed;a.isActivePressed=!1;a.isLongPressed=!1;c.onPressEnd&&n(b,d,a,"pressend",c.onPressEnd,0);c.onPressChange&&y(b,d,c,a);e&&c.onLongPressChange&&z(b,d,c,a)}function C(b,d,c,a){a.isPressed=!0;
null!==a.pressEndTimeout&&(d.clearTimeout(a.pressEndTimeout),a.pressEndTimeout=null);var e=function(){a.isActivePressStart=!0;A(b,d,c,a);if((c.onLongPress||c.onLongPressChange)&&!a.isLongPressed){var e=t(c.delayLongPress,10,500);a.longPressTimeout=d.setTimeout(function(){a.isLongPressed=!0;a.longPressTimeout=null;c.onLongPress&&n(b,d,a,"longpress",c.onLongPress,0);c.onLongPressChange&&z(b,d,c,a)},e)}};if(!a.isActivePressStart){var g=t(c.delayPressStart,0,0);0<g?a.pressStartTimeout=d.setTimeout(function(){a.pressStartTimeout=
null;e()},g):e()}}function u(b,d,c,a){var e=a.isActivePressStart,g=!1;a.isActivePressStart=!1;a.isPressed=!1;null!==a.longPressTimeout&&(d.clearTimeout(a.longPressTimeout),a.longPressTimeout=null);e||null===a.pressStartTimeout||(d.clearTimeout(a.pressStartTimeout),a.pressStartTimeout=null,a.isPressWithinResponderRegion&&null!=b&&(A(b,d,c,a),g=!0));a.isActivePressed&&(e=t(c.delayPressEnd,g?10:0,0),0<e?a.pressEndTimeout=d.setTimeout(function(){a.pressEndTimeout=null;B(b,d,c,a)},e):B(b,d,c,a));a.responderRegionOnDeactivation=
null}function v(b,d,c,a){a.touchEvent=null;a.isPressed&&(a.ignoreEmulatedMouseEvents=!1,u(b,d,c,a));r(d,a)}function w(b){var d=b.key,c=b.target;b=c.tagName;c=c.isContentEditable;return("Enter"===d||" "===d||"Spacebar"===d)&&"INPUT"!==b&&"TEXTAREA"!==b&&!0!==c}function t(b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=null==b?null:b;return Math.max(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,null!=c?c:d)}function D(b,d,c){b=b.objectAssign({},I,c.pressRetentionOffset);
var a=d.getBoundingClientRect();d=a.left;c=a.right;var e=a.bottom;a=a.top;b&&(null!=b.bottom&&(e+=b.bottom),null!=b.left&&(d-=b.left),null!=b.right&&(c+=b.right),null!=b.top&&(a-=b.top));return{bottom:e,top:a,left:d,right:c}}function r(b,d){d.addedRootEvents&&(d.addedRootEvents=!1,b.removeRootEventTypes(x))}function E(b,d){b=b.changedTouches;for(var c=0;c<b.length;c++){var a=b[c];if(a.identifier===d)return a}return null}function F(b,d,c,a){null==a.responderRegionOnDeactivation&&(a.responderRegionOnDeactivation=
D(d,a.pressTarget,c));var e=a.responderRegionOnActivation,g=a.responderRegionOnDeactivation,k=c=d=void 0,h=void 0;null!=e&&(d=e.left,c=e.top,k=e.right,h=e.bottom,null!=g&&(d=Math.min(d,g.left),c=Math.min(c,g.top),k=Math.max(k,g.right),h=Math.max(h,g.bottom)));e=b.clientX;b=b.clientY;a.isPressWithinResponderRegion=null!=d&&null!=k&&null!=c&&null!=h&&null!==e&&null!==b&&e>=d&&e<=k&&b>=c&&b<=h}function G(b,d,c){b=b.stopPropagation;void 0!==b&&d.isRespondingToHook()||!0===b&&c.stopPropagation()}var l=
q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;l.hasOwnProperty("ReactCurrentDispatcher")||(l.ReactCurrentDispatcher={current:null});l.hasOwnProperty("ReactCurrentBatchConfig")||(l.ReactCurrentBatchConfig={suspense:null});var J="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,I={bottom:20,top:20,left:20,right:20};l=[{name:"keydown",passive:!1},{name:"contextmenu",passive:!1},{name:"pointerdown",passive:!1},{name:"click",passive:!1}];var x=["click",
"keyup","pointerup","pointermove","scroll","pointercancel",{name:"mouseup",passive:!1},"touchend"];"undefined"!==typeof window&&void 0===window.PointerEvent&&(l.push("touchstart","mousedown"),x.push("mousemove","touchmove","touchcancel","dragstart"));var H=q.unstable_createEvent({displayName:"Press",targetEventTypes:l,createInitialState:function(){return{activationPosition:null,addedRootEvents:!1,isActivePressed:!1,isActivePressStart:!1,isLongPressed:!1,isPressed:!1,isPressWithinResponderRegion:!0,
longPressTimeout:null,pointerType:"",pressEndTimeout:null,pressStartTimeout:null,pressTarget:null,responderRegionOnActivation:null,responderRegionOnDeactivation:null,ignoreEmulatedMouseEvents:!1,activePointerId:null,shouldPreventClick:!1,touchEvent:null}},allowMultipleHostChildren:!1,allowEventHooks:!0,onEvent:function(b,d,c,a){var e=b.pointerId,g=b.pointerType,k=b.type;if(c.disabled)r(d,a),u(b,d,c,a),a.ignoreEmulatedMouseEvents=!1;else{var h=b.nativeEvent,f=a.isPressed;G(c,d,h);switch(k){case "pointerdown":case "keydown":case "mousedown":case "touchstart":if(f)w(h)&&
" "===h.key&&h.preventDefault();else{var l="touchstart"===k,p="pointerdown"===k,m="keyboard"===g;f="mouse"===g;if(p||l)a.ignoreEmulatedMouseEvents=!0;else if("mousedown"===k&&a.ignoreEmulatedMouseEvents)break;else if(m&&!w(h))break;a.pointerType=g;a.pressTarget=d.getEventCurrentTarget(b);if(p)a.activePointerId=e;else if(l){e=h.targetTouches;e=0<e.length?e[0]:null;if(null===e)break;a.touchEvent=e;a.activePointerId=e.identifier}0<h.button||J&&f&&h.ctrlKey||(a.responderRegionOnActivation=D(d,a.pressTarget,
c),a.responderRegionOnDeactivation=null,a.isPressWithinResponderRegion=!0,C(b,d,c,a),a.addedRootEvents||(a.addedRootEvents=!0,d.addRootEventTypes(x)))}break;case "contextmenu":e=c.preventContextMenu;void 0!==e&&d.isRespondingToHook()||!0===e&&h.preventDefault();if(f){f=c.preventDefault;if(!(void 0!==f&&d.isRespondingToHook()||!1===f||h.defaultPrevented)){h.preventDefault();break}v(b,d,c,a)}c.onContextMenu&&n(b,d,a,"contextmenu",c.onContextMenu,0);r(d,a);break;case "click":a.shouldPreventClick&&h.preventDefault()}}},
onRootEvent:function(b,d,c,a){var e=b.pointerId,g=b.pointerType,k=b.target,h=b.type,f=b.nativeEvent,l=a.isPressed,p=a.activePointerId;G(c,d,f);switch(h){case "pointermove":case "mousemove":case "touchmove":var m=void 0;if(a.pointerType!==g)break;if("pointermove"===h&&p!==e)break;else if("touchmove"===h){m=E(f,p);if(null===m)break;a.touchEvent=m}null===a.pressTarget||"mouse"===g&&d.isTargetWithinNode(k,a.pressTarget)||F(m||f,d,c,a);a.isPressWithinResponderRegion?l?(c.onPressMove&&n(b,d,a,"pressmove",
c.onPressMove,1),null!=a.activationPosition&&null!=a.longPressTimeout&&10<Math.hypot(a.activationPosition.x-f.clientX,a.activationPosition.y-f.clientY)&&null!=a.longPressTimeout&&d.clearTimeout(a.longPressTimeout)):C(b,d,c,a):u(b,d,c,a);break;case "pointerup":case "keyup":case "mouseup":case "touchend":if(l){if(l=!1,m=void 0,"pointerup"!==h||p===e){if("touchend"===h){m=E(f,p);if(null===m)break;k=a.touchEvent=m;k=d.getActiveDocument().elementFromPoint(k.clientX,k.clientY)}else if("keyup"===h){if(!w(f))break;
l=!0;r(d,a)}a.shouldPreventClick=!1;if(d.isTargetWithinEventComponent(k)&&d.isTargetWithinHostComponent(k,"a",!0)){e=f.altKey;h=f.ctrlKey;p=f.metaKey;var q=f.shiftKey,t=c.preventDefault;void 0!==t&&d.isRespondingToHook()||!1===t||q||p||h||e||(a.shouldPreventClick=!0)}e=a.isLongPressed;u(b,d,c,a);null!==a.pressTarget&&c.onPress&&(l||null===a.pressTarget||"mouse"===g&&d.isTargetWithinNode(k,a.pressTarget)||F(m||f,d,c,a),a.isPressWithinResponderRegion&&(e&&c.onLongPressShouldCancelPress&&c.onLongPressShouldCancelPress()||
n(b,d,a,"press",c.onPress,0)));a.touchEvent=null}}else"mouseup"===h&&(a.ignoreEmulatedMouseEvents=!1);break;case "click":"keyboard"!==a.pointerType&&r(d,a);break;case "scroll":g=a.pressTarget;f=f.target;k=d.getActiveDocument();null===g||f!==k&&!d.isTargetWithinNode(g,f)||v(b,d,c,a);break;case "pointercancel":case "touchcancel":case "dragstart":v(b,d,c,a)}},onUnmount:function(b,d,c){c.isPressed&&(r(b,c),u(null,b,d,c))},onOwnershipChange:function(b,d,c){c.isPressed&&(r(b,c),u(null,b,d,c))}});return{Press:H,
usePress:function(b){q.unstable_useEvent(H,b)}}});
