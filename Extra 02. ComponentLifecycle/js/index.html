<!DOCTYPE html>
<html>
    <head>
        <title>Extra 02. ComponentLifecycle (js)</title>
        <script src="http://fb.me/react-0.11.2.js"></script>
    </head>
    <body>
        <div id="app"></div>

        <script type="text/javascript">
            var Hello = React.createClass({
                render: function () { alert('render()'); return React.DOM.h1(null, 'Hello ', this.props.name, '!'); },

                // Mounting
                getInitialState: function () {
                    alert('getInitialState(): {}'); return null;
                },
                componentWillMount: function () {
                    alert('componentWillMount()');
                },
                componentDidMount: function () {
                    alert('componentDidMount()');
                },

                // Updating
                componentWillReceiveProps: function (nextProps) {
                    alert('componentWillReceiveProps(nextProps: ' + JSON.stringify(nextProps) + ')');
                },
                shouldComponentUpdate: function (nextProps, nextState) {
                    alert('shouldComponentUpdate(nextProps: ' + JSON.stringify(nextProps) + ', nextState: ' + JSON.stringify(nextState) + '): boolean');
                    return true;
                },
                componentWillUpdate: function (nextProps, nextState) {
                    alert('componentWillUpdate(nextProps: ' + JSON.stringify(nextProps) + ', nextState: ' + JSON.stringify(nextState) + ')');
                },
                componentDidUpdate: function (prevProps, prevState) {
                    alert('componentDidUpdate(prevProps: ' + JSON.stringify(prevProps) + ', prevState: ' + JSON.stringify(prevState) + ')');
                },

                // Unmounting
                componentWillUnmount: function () {
                    alert('componentWillUnmount()');
                }
            });

            var App = React.createClass({
                getInitialState: function() {
                    return {
                        name: 'Number One'
                    }
                },
                componentDidMount: function() {
                    this.setState({name: 'Number Two'});
                },
                render: function() {
                    return Hello({name: this.state.name});
                }
            });

            React.renderComponent(
                App(),
                document.getElementById('app')
            );

            React.unmountComponentAtNode(
                document.getElementById('app')
            );
        </script>
    </body>
</html>
