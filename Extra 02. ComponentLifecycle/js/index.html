<!DOCTYPE html>
<html>
    <head>
        <title>Extra 02. ComponentLifecycle (js)</title>
        <script src="http://fb.me/react-0.12.2.js"></script>
    </head>
    <body>
        <div id="app"></div>
        <script type="text/javascript">
            var Hello = React.createClass({
                displayName: "Hello",
                render: function () { console.log('render()'); return React.createElement('h1', null, 'Hello ', this.props.name, '!'); },

                // Mounting
                getInitialState: function () {
                    console.log('getInitialState(): {}'); return null;
                },
                componentWillMount: function () {
                    console.log('componentWillMount()');
                },
                componentDidMount: function () {
                    console.log('componentDidMount()');
                },

                // Updating
                componentWillReceiveProps: function (nextProps) {
                    console.log('componentWillReceiveProps(nextProps: ' + JSON.stringify(nextProps) + ')');
                },
                shouldComponentUpdate: function (nextProps, nextState) {
                    console.log('shouldComponentUpdate(nextProps: ' + JSON.stringify(nextProps) + ', nextState: ' + JSON.stringify(nextState) + '): boolean');
                    return true;
                },
                componentWillUpdate: function (nextProps, nextState) {
                    console.log('componentWillUpdate(nextProps: ' + JSON.stringify(nextProps) + ', nextState: ' + JSON.stringify(nextState) + ')');
                },
                componentDidUpdate: function (prevProps, prevState) {
                    console.log('componentDidUpdate(prevProps: ' + JSON.stringify(prevProps) + ', prevState: ' + JSON.stringify(prevState) + ')');
                },

                // Unmounting
                componentWillUnmount: function () {
                    console.log('componentWillUnmount()');
                }
            });

            var App = React.createClass({
                displayName: "App",
                getInitialState: function () {
                    return {
                        name: 'Number One'
                    }
                },
                componentDidMount: function() {
                    this.setState({name: 'Number Two'});
                },
                render: function() {
                    return React.createElement(Hello, {name: this.state.name});
                }
            });

            React.render(
                React.createElement(App),
                document.getElementById('app')
            );

            React.unmountComponentAtNode(
                document.getElementById('app')
            );
        </script>
    </body>
</html>
